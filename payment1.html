<!DOCTYPE html>
<html lang="en">
<head>
 <meta charset="UTF-8">
 <meta name="viewport" content="width=device-width, initial-scale=1.0">
 <title>Payment</title>
 
 <style>
 /* Custom Styles */
* {
 margin: 0;
 padding: 0;
 box-sizing: border-box;
}

body {
 font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
}

/* Spinner Animation */
.spinner {
 width: 32px;
 height: 32px;
 border: 4px solid #e5e7eb;
 border-top-color: #4f46e5;
 border-radius: 50%;
 animation: spin 1s linear infinite;
}

@keyframes spin {
 to {
 transform: rotate(360deg);
 }
}

/* Toast Notification */
.toast {
 position: fixed;
 top: 20px;
 right: 20px;
 background-color: #1f2937;
 color: white;
 padding: 16px 24px;
 border-radius: 8px;
 box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
 transform: translateX(400px);
 transition: transform 0.3s ease-in-out;
 z-index: 1000;
 font-weight: 500;
}

.toast.show {
 transform: translateX(0);
}

.toast.success {
 background-color: #10b981;
}

.toast.error {
 background-color: #ef4444;
}

/* Button Hover Effects */
.provider-btn {
 cursor: pointer;
 transition: all 0.2s ease;
}

.provider-btn:hover {
 transform: translateY(-2px);
 box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
}

.provider-btn:active {
 transform: translateY(0);
}

/* Form Focus Styles */
input:focus {
 outline: none;
}

/* Utility Classes */
.hidden {
 display: none !important;
}

/* Responsive Design */
@media (max-width: 640px) {
 body {
 padding: 0;
 }
 
 .max-w-md {
 max-width: 100%;
 }
}

/* Typography */
h1 {
 font-size: 1.875rem;
 line-height: 2.25rem;
}

h2 {
 font-size: 1.5rem;
 line-height: 2rem;
}

@media (max-width: 640px) {
 h1 {
 font-size: 1.5rem;
 line-height: 2rem;
 }
 
 h2 {
 font-size: 1.25rem;
 line-height: 1.75rem;
 }
}

 </style>
</head>
<body class="min-h-screen bg-gray-100 py-8 px-4">
 <div class="max-w-md mx-auto">
 <!-- Header -->
 <div class="bg-white rounded-t-2xl shadow-lg p-6">
 <button id="backBtn" class="hidden items-center gap-2 text-gray-600 hover:text-gray-900 mb-4">
 <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
 <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path>
 </svg>
 Back
 </button>
 <h1 class="text-3xl font-bold text-gray-900 text-center">Payment</h1>
 <div class="mt-4 text-center">
 <p class="text-sm text-gray-600">Amount to Pay</p>
 <p class="text-2xl font-bold text-gray-900 mt-1">NPR <span id="amount">1250.00</span></p>
 </div>
 </div>

 <!-- Select Provider Step -->
 <div id="selectStep" class="bg-white rounded-b-2xl shadow-lg p-6">
 <h2 class="text-xl font-semibold text-gray-900 mb-4">Select Payment Method</h2>
 <div class="space-y-3">
 <button onclick="selectProvider('esewa')" class="provider-btn w-full flex items-center gap-4 p-4 border-2 border-gray-200 rounded-xl hover:border-gray-400 transition-all">
 <div class="w-12 h-12 bg-green-600 rounded-lg flex items-center justify-center text-2xl">
 üí∞
 </div>
 <span class="text-lg font-medium text-gray-900">eSewa</span>
 </button>

 <button onclick="selectProvider('khalti')" class="provider-btn w-full flex items-center gap-4 p-4 border-2 border-gray-200 rounded-xl hover:border-gray-400 transition-all">
 <div class="w-12 h-12 bg-purple-600 rounded-lg flex items-center justify-center text-2xl">
 üí≥
 </div>
 <span class="text-lg font-medium text-gray-900">Khalti</span>
 </button>

 <button onclick="selectProvider('imepay')" class="provider-btn w-full flex items-center gap-4 p-4 border-2 border-gray-200 rounded-xl hover:border-gray-400 transition-all">
 <div class="w-12 h-12 bg-red-600 rounded-lg flex items-center justify-center text-2xl">
 üì±
 </div>
 <span class="text-lg font-medium text-gray-900">IME Pay</span>
 </button>

 <button onclick="selectProvider('fonepay')" class="provider-btn w-full flex items-center gap-4 p-4 border-2 border-gray-200 rounded-xl hover:border-gray-400 transition-all">
 <div class="w-12 h-12 bg-blue-600 rounded-lg flex items-center justify-center text-2xl">
 üí∏
 </div>
 <span class="text-lg font-medium text-gray-900">FonePay</span>
 </button>

 <button onclick="selectProvider('bank')" class="provider-btn w-full flex items-center gap-4 p-4 border-2 border-gray-200 rounded-xl hover:border-gray-400 transition-all">
 <div class="w-12 h-12 bg-indigo-600 rounded-lg flex items-center justify-center text-2xl">
 üè¶
 </div>
 <span class="text-lg font-medium text-gray-900">Mobile Banking</span>
 </button>
 </div>
 </div>

 <!-- Payment Details Step -->
 <div id="detailsStep" class="hidden bg-white rounded-b-2xl shadow-lg p-6">
 <div class="text-center mb-6">
 <div id="providerIcon" class="w-16 h-16 bg-green-600 rounded-full flex items-center justify-center mx-auto mb-3 text-3xl">
 üí∞
 </div>
 <h2 id="providerName" class="text-2xl font-bold text-gray-900">eSewa</h2>
 </div>

 <form id="paymentForm" class="space-y-4">
 <div>
 <label for="mobile" class="block text-sm font-medium text-gray-700 mb-2">
 Mobile Number / ID
 </label>
 <div class="relative">
 <svg class="absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
 <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 18h.01M8 21h8a2 2 0 002-2V5a2 2 0 00-2-2H8a2 2 0 00-2 2v14a2 2 0 002 2z"></path>
 </svg>
 <input
 id="mobile"
 type="tel"
 placeholder="98XXXXXXXX"
 class="w-full pl-11 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"
 required
 />
 </div>
 </div>

 <div>
 <label for="pin" class="block text-sm font-medium text-gray-700 mb-2">
 PIN / Password
 </label>
 <input
 id="pin"
 type="password"
 placeholder="Enter your PIN"
 maxlength="6"
 class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"
 required
 />
 </div>

 <div class="bg-gray-50 p-4 rounded-lg space-y-2">
 <div class="flex justify-between text-sm text-gray-600">
 <span>Amount</span>
 <span>NPR <span id="detailAmount">1250.00</span></span>
 </div>
 <div class="flex justify-between text-sm text-gray-600">
 <span>Service Charge</span>
 <span>NPR 0.00</span>
 </div>
 <div class="flex justify-between text-base font-semibold pt-2 border-t border-gray-200">
 <span>Total</span>
 <span>NPR <span id="totalAmount">1250.00</span></span>
 </div>
 </div>

 <button
 type="submit"
 id="payBtn"
 class="w-full bg-green-600 text-white font-semibold py-3 rounded-lg hover:opacity-90 transition-opacity"
 >
 Pay Now
 </button>
 </form>
 </div>

 <!-- Processing Step -->
 <div id="processingStep" class="hidden bg-white rounded-b-2xl shadow-lg p-6">
 <div class="text-center">
 <div class="w-48 h-48 bg-white border-4 border-gray-300 rounded-lg mx-auto mb-4 flex items-center justify-center">
 <svg class="w-32 h-32 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
 <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"></path>
 </svg>
 </div>
 <h2 class="text-2xl font-bold text-gray-900 mb-2">Processing Payment</h2>
 <p class="text-gray-600">Please confirm on your <span id="processingProvider">eSewa</span> app</p>
 <div class="mt-6 flex justify-center">
 <div class="spinner"></div>
 </div>
 </div>
 </div>

 <!-- Success Step -->
 <div id="successStep" class="hidden bg-white rounded-b-2xl shadow-lg p-6">
 <div class="text-center">
 <div class="w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
 <svg class="w-12 h-12 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
 <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
 </svg>
 </div>
 <h2 class="text-2xl font-bold text-gray-900 mb-2">Payment Successful!</h2>
 <p class="text-gray-600 mb-6">Your payment has been processed</p>

 <div class="bg-gray-50 p-4 rounded-lg space-y-2 mb-6 text-left">
 <div class="flex justify-between text-sm text-gray-600">
 <span>Transaction ID</span>
 <span id="transactionId" class="font-medium text-gray-900">TXN123456789</span>
 </div>
 <div class="flex justify-between text-sm text-gray-600">
 <span>Payment Method</span>
 <span id="successProvider" class="font-medium text-gray-900">eSewa</span>
 </div>
 <div class="flex justify-between text-sm text-gray-600">
 <span>Amount Paid</span>
 <span class="font-medium text-gray-900">NPR <span id="successAmount">1250.00</span></span>
 </div>
 <div class="flex justify-between text-sm text-gray-600">
 <span>Date</span>
 <span id="transactionDate" class="font-medium text-gray-900"></span>
 </div>
 </div>

 <button
 onclick="resetPayment()"
 class="w-full bg-indigo-600 text-white font-semibold py-3 rounded-lg hover:bg-indigo-700 transition-colors"
 >
 Done
 </button>
 </div>
 </div>
 </div>

 <!-- Toast Notification -->
 <div id="toast" class="toast">
 <span id="toastMessage"></span>
 </div>

 <script>
 // Payment System State
let currentStep = 'select';
let selectedProvider = null;
const amount = 1250.00;

// Provider Configuration
const providers = {
 esewa: {
 name: 'eSewa',
 color: 'bg-green-600',
 icon: 'üí∞'
 },
 khalti: {
 name: 'Khalti',
 color: 'bg-purple-600',
 icon: 'üí≥'
 },
 imepay: {
 name: 'IME Pay',
 color: 'bg-red-600',
 icon: 'üì±'
 },
 fonepay: {
 name: 'FonePay',
 color: 'bg-blue-600',
 icon: 'üí∏'
 },
 bank: {
 name: 'Mobile Banking',
 color: 'bg-indigo-600',
 icon: 'üè¶'
 }
};

// DOM Elements
const backBtn = document.getElementById('backBtn');
const selectStep = document.getElementById('selectStep');
const detailsStep = document.getElementById('detailsStep');
const processingStep = document.getElementById('processingStep');
const successStep = document.getElementById('successStep');
const paymentForm = document.getElementById('paymentForm');

// Initialize
document.addEventListener('DOMContentLoaded', () => {
 // Set back button handler
 backBtn.addEventListener('click', resetPayment);
 
 // Set form submit handler
 paymentForm.addEventListener('submit', handlePayment);
 
 // Set amount in all places
 updateAmount();
});

// Update Amount Display
function updateAmount() {
 document.getElementById('amount').textContent = amount.toFixed(2);
 document.getElementById('detailAmount').textContent = amount.toFixed(2);
 document.getElementById('totalAmount').textContent = amount.toFixed(2);
 document.getElementById('successAmount').textContent = amount.toFixed(2);
}

// Show Toast Notification
function showToast(message, type = 'success') {
 const toast = document.getElementById('toast');
 const toastMessage = document.getElementById('toastMessage');
 
 toastMessage.textContent = message;
 toast.className = `toast ${type}`;
 toast.classList.add('show');
 
 setTimeout(() => {
 toast.classList.remove('show');
 }, 3000);
}

// Select Provider
function selectProvider(providerId) {
 selectedProvider = providerId;
 const provider = providers[providerId];
 
 // Update provider details
 document.getElementById('providerName').textContent = provider.name;
 document.getElementById('providerIcon').innerHTML = provider.icon;
 document.getElementById('providerIcon').className = `w-16 h-16 ${provider.color} rounded-full flex items-center justify-center mx-auto mb-3 text-3xl`;
 document.getElementById('payBtn').className = `w-full ${provider.color} text-white font-semibold py-3 rounded-lg hover:opacity-90 transition-opacity`;
 
 // Show details step
 showStep('details');
}

// Handle Payment
function handlePayment(e) {
 e.preventDefault();
 
 const mobile = document.getElementById('mobile').value;
 const pin = document.getElementById('pin').value;
 
 if (!mobile || !pin) {
 showToast('Please fill all fields', 'error');
 return;
 }
 
 const provider = providers[selectedProvider];
 document.getElementById('processingProvider').textContent = provider.name;
 
 // Show processing step
 showStep('processing');
 
 // Simulate payment processing
 setTimeout(() => {
 // Generate transaction ID
 const transactionId = 'TXN' + Math.random().toString(36).substr(2, 9).toUpperCase();
 document.getElementById('transactionId').textContent = transactionId;
 
 // Set provider name
 document.getElementById('successProvider').textContent = provider.name;
 
 // Set date
 const today = new Date().toLocaleDateString('en-US', {
 year: 'numeric',
 month: 'short',
 day: 'numeric'
 });
 document.getElementById('transactionDate').textContent = today;
 
 // Show success step
 showStep('success');
 showToast('Payment successful!', 'success');
 }, 2000);
}

// Show Step
function showStep(step) {
 currentStep = step;
 
 // Hide all steps
 selectStep.classList.add('hidden');
 detailsStep.classList.add('hidden');
 processingStep.classList.add('hidden');
 successStep.classList.add('hidden');
 
 // Show back button for all steps except select
 if (step === 'select') {
 backBtn.classList.add('hidden');
 backBtn.classList.remove('flex');
 } else {
 backBtn.classList.remove('hidden');
 backBtn.classList.add('flex');
 }
 
 // Show current step
 switch(step) {
 case 'select':
 selectStep.classList.remove('hidden');
 break;
 case 'details':
 detailsStep.classList.remove('hidden');
 break;
 case 'processing':
 processingStep.classList.remove('hidden');
 backBtn.classList.add('hidden');
 backBtn.classList.remove('flex');
 break;
 case 'success':
 successStep.classList.remove('hidden');
 backBtn.classList.add('hidden');
 backBtn.classList.remove('flex');
 break;
 }
}

// Reset Payment
function resetPayment() {
 selectedProvider = null;
 currentStep = 'select';
 
 // Clear form
 document.getElementById('mobile').value = '';
 document.getElementById('pin').value = '';
 
 // Show select step
 showStep('select');
}

// Format Mobile Number (optional enhancement)
document.addEventListener('DOMContentLoaded', () => {
 const mobileInput = document.getElementById('mobile');
 
 mobileInput.addEventListener('input', (e) => {
 let value = e.target.value.replace(/\D/g, '');
 if (value.length > 10) {
 value = value.substr(0, 10);
 }
 e.target.value = value;
 });
});

 </script>
</body>
</html>